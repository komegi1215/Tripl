<div class="container container-trip">
  <h1><i class="fa-solid fa-plane"></i> My Trips</h1>

  <div class="cards-trips">
  <% @trips.each do |trip| %>
    <div class="card-trip">
      <%= link_to trip_path(trip), class: 'card-booking-link' do %>
        <% if trip.image_url.present? %>
          <div class="card-trip-item" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(<%= trip.image_url %>)">
            <%= trip.title %>
          </div>
        <% end %>
        <div class="card-trip-status">

            <span class ="request-color">Requested <%= trip.bookings.where(booking_status: 0).count %></span>
            <span class ="approve-color">Approved  <%= trip.bookings.where(booking_status: 1).count %></span>
            <span class ="reject-color">Rejected  <%= trip.bookings.where(booking_status: 0).count %></span>

          </div>
      <% end %>
    </div>
  <% end %>
</div>




<div class="container container-booking">
<div class="row row-list">
    <div class="col-6">
  <h1><i class="fa-solid fa-plane"></i> My Trips</h1>
  <% @trips.each do |trip| %>
      <div class="card-booking">
        <div class="card-image">
          <%= link_to trip_path(trip), class: 'card-booking-link' do %>
          <% if trip.image_url.present? %>
            <%= image_tag trip.image_url %>
          <% end %>
        </div>

        <div class="card-booking-infos">
         <div class="card-booking-trip-info">
            <h3><%= trip.trip_date %></h3>
            <h2><%= trip.title %></h2>
         </div>
          <% end %>
          <div class="card-trip-status">
           <p>
            <p class ="request-color">Requested <%= trip.bookings.where(booking_status: 0).count %><br></p>
            <p class ="approve-color">Approved  <%= trip.bookings.where(booking_status: 1).count %><br></p>
            <p class ="reject-color">Rejected  <%= trip.bookings.where(booking_status: 0).count %><br></p>
           </p>
          </div>


        </div>
      </div>
  <% end %>
  </div>
   <div class="col-6">
      <h1><i class="fa-solid fa-suitcase"></i> My Bookings</h1>
  <% @bookings.each do |booking| %>
      <div class="card-booking">
        <div class="card-image">
          <%= link_to trip_path(booking.trip), class: 'card-booking-link' do %>
          <% if booking.trip.image_url.present? %>
            <%= image_tag booking.trip.image_url %>
          <% end %>
        </div>

        <div class="card-booking-infos">
         <div class="card-booking-trip-info">
            <h3><%= booking.trip.trip_date %></h3>
            <h2><%= booking.trip.title %></h2>
         </div>
          <% end %>
          <div class="card-booking-trip-status">
            <% if booking.booking_status == 1 %>
              <p><%= "booking confirmed" %></p>
            <% elsif booking.booking_status == 2 %>
              <p><%= "booking rejected" %></p>
            <% else %>
              <p><%= "booking requested" %></p>
            <% end %>
          <div class="card-bucket">
            <%= link_to booking_path(booking.id), class: "card-delete-icon-link",
            data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this booking"} do %>
            <i class="fa-solid fa-trash fa-xs"></i>
            <% end %>
          </div>
          </div>
        </div>
      </div>
  <% end %>
</div>
</div>
</div>
